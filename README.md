# 단조 증가 성질을 지닌 데이터 도메인에서의 집합 유사 시퀀스 매칭 방법


> [학위논문](http://www.riss.or.kr/search/detail/DetailView.do?p_mat_type=be54d9b8bc7cdb09&control_no=6e26fb29a0d40f93ffe0bdc3ef48d419) (석사) 2020.8

This is the python code of the set-based sub-sequence matching using the monotonically increasing property of data domains.

실행 

```
python proposed_subsequence_matching.py
```

github 용량 제한으로 dataset은 포함하지 않음
* [MovieLens 25M Dataset](https://grouplens.org/datasets/movielens/)
* `synthetic/generate_synthetic_data.py`를 이용해 합성 데이터를 만들 수 있음



## Abstract
최근 미디어에 대한 관심이 급증하면서, 미디어 데이터의 도메인은 단조
증가하는 성질을 띠고 있다. 도메인 또는 데이터 도메인이란 데이터가 가질
수 있는 값들을 모아 놓은 집합을 의미하고, 도메인의 단조 증가 성질은
도메인에 존재하는 값들이 줄어들지 않고, 시간이 흐름에 따라 지속해서
새로운 값들이 추가되어 도메인의 크기가 증가하는 성질을 의미한다. 단조
증가 성질을 띠는 데이터 도메인의 예로는 영화 또는 음반에 대한 선호
데이터가 있다.

도메인으로부터 시간이 흐르면서 순차적으로 생성된 데이터들의 연속을
데이터스트림 또는 시퀀스라 일컫는데, 주어진 시퀀스와 유사한 시퀀스들을
찾아내는 유사 시퀀스 매칭은 데이터 마이닝 영역에서 중요하게 다뤄지는
문제 중 하나다. 이때 범주형 데이터로 이루어진 시퀀스에 대한 유사 시퀀스
매칭을 수행할 경우, 시간 불일치 문제가 발생할 수 있다. 시간 불일치
문제는 실제로 유사한 시퀀스라도 시퀀스를 구성하는 일부 데이터의 순서가
달라질 경우, 유사하지 않다고 잘못 판단되는 문제를 의미한다. 이러한 시간
불일치 문제를 해소하기 위해 집합 유사 시퀀스 매칭이 제안되었는데, 집합
유사 시퀀스 매칭이란, 일정한 크기의 집합 단위를 이용해 시퀀스의 데이터를
시간 순서대로 묶어 집합들을 생성한 후, 생성된 집합들로 재구성한 집합
시퀀스를 유사 시퀀스 매칭에 적용한 문제를 의미한다. 

본 논문은 색인 구조를 활용하여 유사 시퀀스 매칭을 효율적으로 수행하는
방법을 제안한다. 특히, 집합 유사 시퀀스 매칭을 효율적으로 수행하기 위해
도메인의 단조 증가 성질을 활용하는 색인 구조가 적용된 집합 유사 시퀀스
매칭 방법을 제안한다. 기존의 집합 유사 시퀀스 매칭을 수행하기 위해
제안된 방법들은 단조 증가하는 도메인 환경을 고려하지 않았다. 집합 시퀀스
간 유사한 정도를 측정할 때, 집합 단위로 계산하는 유사모델을 사용한다.
그래서 집합 유사 시퀀스 매칭은 주어진 집합 시퀀스의 집합과 유사한
집합들을 찾고, 찾은 집합들을 포함한 집합 시퀀스들이 주어진 집합 시퀀스와
유사한지 검증하는 계층적 과정을 거친다. 이러한 계층적 과정에서, 도메인의
단조 증가 성질을 활용하면 주어진 집합과 유사할 가능성이 있는 집합들을
빠르게 찾아내고, 저장된 전체 집합이 아닌, 찾아낸 집합들만을 검증하여
유사한 집합들을 찾아낼 수 있다.

본 논문에서 제안하는 방법은 크게 네 가지로 구분된다. 첫째로, 도메인의
단조 증가 성질을 이용하여 집합의 생성 시점과 원소의 도메인 등장
시점이라는 두 가지 개념을 정의한다. 그리고 이러한 개념들을 통해 교집합
크기의 상한 계산 방법을 제시하는데, 이 방법은 주어진 집합 쌍이 서로
유사할 가능성이 있는지 파악하는 방법이다. 둘째로, 교집합 크기의 상한
계산 방법을 다수의 집합에 효율적으로 적용하기 위해서, 도메인 시간 역색인
구조와 색인 구조 기반 검색 방법을 제안한다. 다수의 집합을 도메인 시간
역색인 구조를 통해 색인하고, 주어진 집합과 유사할 가능성이 있는 집합들을
색인 구조 기반 검색 방법을 통해 한 번의 수행으로 찾아낸다. 셋째로,
제안한 구조와 방법을 집합 유사 시퀀스 매칭에 적용하는 방법을 제안한다.
이 방법의 수행 과정에서는, 주어진 집합 그리고 집합 시퀀스와 유사할
가능성이 있는 집합과 집합 시퀀스를 각각 찾게 되는데, 이때 착오 기각이 발생하지 않음을 증명한다. 넷째로, 향상된 색인 구조 기반 검색 방법을
제시한다. 이 방법을 이용하면, 단조 증가 성질의 활용성을 높여서, 주어진
집합과 유사할 가능성이 더욱 높은 집합들만 검색할 수 있다.

실험은 1) 실제 데이터와 2) 합성 데이터를 이용하여 진행하였다. 실제
데이터에서의 실험 결과, 기존의 집합 유사 시퀀스 매칭 방법보다 약 100배,
그리고 단조 증가 성질을 사용하지 않는 제안된 방법보다 약 2배의 수행 시간
단축을 보였다. 그리고 향상된 색인 구조 기반 방법을 적용하였을 때, 제안된
방법에서 약 1.2배의 추가적인 수행 시간 단축이 있음을 보였다. 이러한 실험
결과를 통해, 실제 환경에서 발견할 수 있는 도메인의 단조 증가 성질을
제안된 방법이 효율적으로 활용함을 보였다. 그리고 합성 데이터에서의 실험
결과를 통해서, 제안하는 방법이 단조 증가 성질을 활용하는 데 있어서,
데이터의 특정 분포가 주요한 영향을 미치는 것을 확인하였다.

이러한 결과로 보았을 때, 본 논문에서 제시한 색인 구조를 활용한
효율적인 유사 시퀀스 매칭 기법은 데이터스트림에서의 유사 시퀀스 매칭,
추천 시스템에서의 유사 사용자 검색 등 다양한 응용 분야에서 유용하게
사용될 수 있을 것으로 기대된다. 또한 기존의 방법에 비해서 빠른 처리가
가능하다는 장점이 있어서 대량의 데이터를 다루는 응용에서 보다 유용할
것으로 기대된다. 
